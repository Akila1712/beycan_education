<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Gallery Slider – 3 Cards Desktop</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- GLightbox -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css">

<style>

/* ================= GALLERY SECTION ================= */
#gallery {
  padding: 80px 0;
}

.td_section_heading h2 {
  font-size: 38px;
  font-weight: 700;
  text-align: center;
}

/* ================= SLIDER ================= */
.gallery-slider {
  position: relative;
  max-width: 1100px;
  margin: 40px auto 0;
  overflow: hidden;
}

/* Track */
.gallery-track {
  display: flex;
  transition: transform 0.6s ease;
}

/* ================= CARD STYLE (YOUR SIZE) ================= */
.gallery-slide {
  flex: 0 0 100%;
  padding: 0 12px;
}

.gallery-slide a {
  display: block;
  overflow: hidden;
  border-radius: 10px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.gallery-slide img {
  width: 100%;
  aspect-ratio: 4 / 3;   /* ✅ SAME CARD SIZE */
  object-fit: cover;
  transition: transform 0.35s ease;
}

.gallery-slide a:hover img {
  transform: scale(1.05);
}

/* ================= DESKTOP: 3 CARDS ================= */
@media (min-width: 768px) {
  .gallery-slide {
    flex: 0 0 33.3333%;
  }
}

/* ================= ARROWS ================= */
.slider-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: #000;
  color: #fff;
  border: none;
  width: 42px;
  height: 42px;
  border-radius: 50%;
  cursor: pointer;
  font-size: 22px;
  opacity: 0.8;
  z-index: 10;
}

.slider-arrow:hover {
  opacity: 1;
}

.slider-prev { left: -20px; }
.slider-next { right: -20px; }

/* ================= GLIGHTBOX POPUP ================= */
.glightbox-container .gslide-image img {
  width: 80vh !important;
  height: 80vh !important;
  max-width: 90vw !important;
  max-height: 90vh !important;
  object-fit: contain !important;
  border-radius: 10px;
}

.glightbox-overlay {
  background: rgba(0,0,0,0.55) !important;
}

/* Mobile popup */
@media (max-width: 575px) {
  .glightbox-container .gslide-image img {
    width: 85vw !important;
    height: 85vw !important;
    max-width: 95vw !important;
    max-height: 85vh !important;
  }
}

</style>
</head>

<body>

<!-- ================= GALLERY ================= -->
<section id="gallery">
  <div class="container">

    <div class="td_section_heading">
      <h2>Learning and activities <br> at our institute</h2>
    </div>

    <div class="gallery-slider">

      <!-- Arrows -->
      <button class="slider-arrow slider-prev">&#10094;</button>
      <button class="slider-arrow slider-next">&#10095;</button>

      <!-- Track -->
      <div class="gallery-track">

        <div class="gallery-slide">
          <a href="assets/img/home_4/Abacus/4.jpeg" class="glightbox">
            <img src="assets/img/home_4/Abacus/4.jpeg">
          </a>
        </div>

        <div class="gallery-slide">
          <a href="assets/img/home_4/Abacus/32.jpg" class="glightbox">
            <img src="assets/img/home_4/Abacus/32.jpg">
          </a>
        </div>

        <div class="gallery-slide">
          <a href="assets/img/home_4/Abacus/Picture1.jpg" class="glightbox">
            <img src="assets/img/home_4/Abacus/Picture1.jpg">
          </a>
        </div>

        <div class="gallery-slide">
          <a href="assets/img/home_4/Abacus/5.jpeg" class="glightbox">
            <img src="assets/img/home_4/Abacus/5.jpeg">
          </a>
        </div>

        <div class="gallery-slide">
          <a href="assets/img/home_4/Abacus/23.jpg" class="glightbox">
            <img src="assets/img/home_4/Abacus/23.jpg">
          </a>
        </div>

      </div>
    </div>

  </div>
</section>

<!-- ================= JS ================= -->
<script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>

<script>
/* Lightbox */
GLightbox({
  selector: '.glightbox',
  loop: true
});

/* Slider logic */
const track = document.querySelector('.gallery-track');
const slides = document.querySelectorAll('.gallery-slide');
const prev = document.querySelector('.slider-prev');
const next = document.querySelector('.slider-next');

let index = 0;

function slidesPerView() {
  return window.innerWidth >= 768 ? 3 : 1;
}

function updateSlider() {
  const slideWidth = slides[0].offsetWidth;
  track.style.transform = `translateX(-${index * slideWidth}px)`;
}

next.addEventListener('click', () => {
  if (index < slides.length - slidesPerView()) {
    index++;
  } else {
    index = 0;
  }
  updateSlider();
});

prev.addEventListener('click', () => {
  if (index > 0) {
    index--;
  } else {
    index = slides.length - slidesPerView();
  }
  updateSlider();
});

/* Auto slide */
setInterval(() => {
  next.click();
}, 3500);

/* Resize fix */
window.addEventListener('resize', updateSlider);
</script>

</body>
</html>
